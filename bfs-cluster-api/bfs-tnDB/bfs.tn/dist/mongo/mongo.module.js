const a22_0x42dc=['__esModule','message','defineProperty','onApplicationShutdown','connect','init','mongodbUri','error','mongoClient','MongoClient','timeout','close','createLogger','length','../config','../lib/log','\x20close\x20mongodb','mongodb','info','Module','object','decorate','MongoModule','onModuleInit'];(function(_0x5809c4,_0x42dc19){const _0x15f7a1=function(_0x48b046){while(--_0x48b046){_0x5809c4['push'](_0x5809c4['shift']());}};_0x15f7a1(++_0x42dc19);}(a22_0x42dc,0x1d6));const a22_0x15f7=function(_0x5809c4,_0x42dc19){_0x5809c4=_0x5809c4-0x0;let _0x15f7a1=a22_0x42dc[_0x5809c4];return _0x15f7a1;};'use strict';var __decorate=this&&this['__decorate']||function(_0x41cdee,_0x1bff65,_0x118f9e,_0x4881ae){var _0x3c1cd1=arguments[a22_0x15f7('0x17')],_0x562aba=_0x3c1cd1<0x3?_0x1bff65:_0x4881ae===null?_0x4881ae=Object['getOwnPropertyDescriptor'](_0x1bff65,_0x118f9e):_0x4881ae,_0x225927;if(typeof Reflect===a22_0x15f7('0x6')&&typeof Reflect['decorate']==='function')_0x562aba=Reflect[a22_0x15f7('0x7')](_0x41cdee,_0x1bff65,_0x118f9e,_0x4881ae);else for(var _0x2634ee=_0x41cdee[a22_0x15f7('0x17')]-0x1;_0x2634ee>=0x0;_0x2634ee--)if(_0x225927=_0x41cdee[_0x2634ee])_0x562aba=(_0x3c1cd1<0x3?_0x225927(_0x562aba):_0x3c1cd1>0x3?_0x225927(_0x1bff65,_0x118f9e,_0x562aba):_0x225927(_0x1bff65,_0x118f9e))||_0x562aba;return _0x3c1cd1>0x3&&_0x562aba&&Object[a22_0x15f7('0xc')](_0x1bff65,_0x118f9e,_0x562aba),_0x562aba;};Object['defineProperty'](exports,a22_0x15f7('0xa'),{'value':!![]});const common_1=require('@nestjs/common');const mongodb_1=require(a22_0x15f7('0x3'));const config_1=require(a22_0x15f7('0x0'));const log_1=require(a22_0x15f7('0x1'));const logger=log_1[a22_0x15f7('0x16')](__filename);let MongoModule=class MongoModule{async[a22_0x15f7('0x9')](){logger['info'](a22_0x15f7('0xf'));exports['mongoClient']=await mongodb_1[a22_0x15f7('0x13')][a22_0x15f7('0xe')](config_1[a22_0x15f7('0x10')],{'useUnifiedTopology':!![]});exports[a22_0x15f7('0x12')]['on'](a22_0x15f7('0x11'),_0x239beb=>{logger[a22_0x15f7('0x4')](a22_0x15f7('0x11'));logger[a22_0x15f7('0x11')](_0x239beb['message']);});exports[a22_0x15f7('0x12')]['on']('timeout',_0x4cc337=>{logger['info'](a22_0x15f7('0x14'));logger['error'](_0x4cc337[a22_0x15f7('0xb')]);});}async[a22_0x15f7('0xd')](_0x5195c2){logger[a22_0x15f7('0x4')](_0x5195c2+a22_0x15f7('0x2'));return exports[a22_0x15f7('0x12')][a22_0x15f7('0x15')]();}};MongoModule=__decorate([common_1['Global'](),common_1[a22_0x15f7('0x5')]({})],MongoModule);exports[a22_0x15f7('0x8')]=MongoModule;